{"version":3,"file":"view.js","mappings":"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","sources":["webpack://calculator-block/./src/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/* eslint-disable no-console */\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\n\tconst fleetSize = document.getElementById(\"fleet-size\");\n\tconst rangeValue = document.getElementById(\"rangeValue\");\n\tconst minValue = parseInt(fleetSize.min);\n\tconst maxValue = parseInt(fleetSize.max);\n\n\tfleetSize.addEventListener(\"input\", (e) => {\n\t\tlet num = parseInt(e.target.value);\n\t\tlet normalizedValue = ((num - minValue) / (maxValue - minValue)) * 99 + 1;\n\t\tlet position = -1 * normalizedValue;\n\n    rangeValue.style.left = normalizedValue + '%';\n    rangeValue.style.transform = `translate(${position}%, 2px)`;\n\t\trangeValue.innerText = num;\n\t});\n\n\tconst gallonsFillUp = document.getElementById(\"gallons-fillup\");\n\tconst gallonsValue = document.getElementById(\"gallonsValue\");\n\n\tgallonsFillUp.addEventListener(\"input\", (e) => {\n\t\tlet currentValue = parseInt(e.target.value);\n\n\t\tlet minValue = parseInt(gallonsFillUp.min);\n\t\tlet maxValue = parseInt(gallonsFillUp.max);\n\t\tlet normalizedValue = ((currentValue - minValue) / (maxValue - minValue)) * 99 + 1;\n\n\t\tlet position = -1 * normalizedValue;\n\n\t\tgallonsValue.style.left = normalizedValue + '%';\n\t\tgallonsValue.style.transform = 'translate(' + position + '%, 2px)';\n\t\tgallonsValue.innerText = currentValue;\n\t});\n\n\tlet fillUpsPerWeek = 1;\n\n\tfunction saveInputs() {\n\t\tlocalStorage.setItem(\n\t\t\t\"fleetSize\",\n\t\t\tdocument.getElementById(\"fleet-size\").value,\n\t\t);\n\t\tlocalStorage.setItem(\n\t\t\t\"gallonsPerFillUp\",\n\t\t\tdocument.getElementById(\"gallons-fillup\").value,\n\t\t);\n\t\tlocalStorage.setItem(\"fillUpsPerWeek\", fillUpsPerWeek);\n\t}\n\n\tfunction loadInputs() {\n\t\tconst savedFleetSize = localStorage.getItem(\"fleetSize\");\n\t\tconst savedGallonsPerFillUp = localStorage.getItem(\"gallonsPerFillUp\");\n\t\tconst savedFillUpsPerWeek = localStorage.getItem(\"fillUpsPerWeek\");\n\n\t\tif (savedFleetSize !== null) {\n\t\t\tdocument.getElementById(\"fleet-size\").value = savedFleetSize;\n\t\t}\n\t\tif (savedGallonsPerFillUp !== null) {\n\t\t\tdocument.getElementById(\"gallons-fillup\").value = savedGallonsPerFillUp;\n\t\t}\n\t\tif (savedFillUpsPerWeek !== null) {\n\t\t\tfillUpsPerWeek = parseInt(savedFillUpsPerWeek);\n\t\t\tdocument\n\t\t\t\t.querySelectorAll(\".fill-up-btn\")\n\t\t\t\t.forEach((btn) => btn.classList.remove(\"active\"));\n\t\t\tdocument\n\t\t\t\t.querySelector(`.fill-up-btn[data-value=\"${savedFillUpsPerWeek}\"]`) ?.classList.add(\"active\");\n\t\t}\n\t}\n\n\tfunction calculateSavings() {\n\t\tconst fleetSize = parseInt(document.getElementById(\"fleet-size\").value) || 0;\n\t\tconst gallonsPerFillUp =\n\t\t\tparseInt(document.getElementById(\"gallons-fillup\").value) || 0;\n\t\t// const savingsPerGallon = 0.6;\n\t\tconst pricePerGallonWithoutCard = window.fuelPrices.pricePerGallonWithoutCard;\n\t\tconst pricePerGallonWithCard = window.fuelPrices.pricePerGallonWithCard;\n\n\t\tconst annualSavings =\n\t\t\tfleetSize * fillUpsPerWeek * (pricePerGallonWithoutCard - pricePerGallonWithCard) * gallonsPerFillUp;\n\t\tdocument.getElementById(\n\t\t\t\"savings-result\",\n\t\t).innerText = `$${annualSavings.toLocaleString()}`;\n\n\t\tconst annualSavingsMobi =\n\t\t\tfleetSize * fillUpsPerWeek * (pricePerGallonWithoutCard - pricePerGallonWithCard) * gallonsPerFillUp;\n\t\tdocument.getElementById(\n\t\t\t\"savings-result-mobi\",\n\t\t).innerText = `$${annualSavingsMobi.toLocaleString()}`;\n\n\t\tsaveInputs();\n\t}\n\n\tdocument\n\t\t.getElementById(\"fleet-size\")\n\t\t.addEventListener(\"input\", calculateSavings);\n\tdocument\n\t\t.getElementById(\"gallons-fillup\")\n\t\t.addEventListener(\"input\", calculateSavings);\n\n\tdocument.querySelectorAll(\".fill-up-btn\").forEach((button) => {\n\t\tbutton.addEventListener(\"click\", () => {\n\t\t\tdocument\n\t\t\t\t.querySelectorAll(\".fill-up-btn\")\n\t\t\t\t.forEach((btn) => btn.classList.remove(\"active\"));\n\t\t\tbutton.classList.add(\"active\");\n\t\t\tfillUpsPerWeek = parseInt(button.dataset.value);\n\t\t\tcalculateSavings();\n\t\t});\n\t});\n\n\tloadInputs();\n\tcalculateSavings();\n});\n\n\n\n/* eslint-enable no-console */\n"],"names":["document","addEventListener","fleetSize","getElementById","rangeValue","minValue","parseInt","min","maxValue","max","e","num","target","value","normalizedValue","position","style","left","transform","innerText","gallonsFillUp","gallonsValue","currentValue","fillUpsPerWeek","saveInputs","localStorage","setItem","loadInputs","savedFleetSize","getItem","savedGallonsPerFillUp","savedFillUpsPerWeek","querySelectorAll","forEach","btn","classList","remove","querySelector","add","calculateSavings","gallonsPerFillUp","pricePerGallonWithoutCard","window","fuelPrices","pricePerGallonWithCard","annualSavings","toLocaleString","annualSavingsMobi","button","dataset"],"sourceRoot":""}