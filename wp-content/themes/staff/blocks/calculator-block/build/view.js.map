{"version":3,"file":"view.js","mappings":"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","sources":["webpack://calculator-block/./src/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/* eslint-disable no-console */\n\n\nconst slider = document.getElementById(\"fleet-size\");\nconst rangeValue = document.getElementById(\"rangeValue\");\n\nslider.addEventListener(\"input\", (e) => {\n\tlet num = e.target.value;\n\tlet position = -1 * num;\n\n  \n\trangeValue.style.left = (num + '%');\n\trangeValue.style.transform = 'translate(' + position + '%, 2px)';\n\trangeValue.innerText = num;\n});\n\nconst gallonsFillUp = document.getElementById(\"gallons-fillup\");\nconst gallonsValue = document.getElementById(\"gallonsValue\");\n\ngallonsFillUp.addEventListener(\"input\", (e) => {\n\tlet num = e.target.value;\n\tlet position = -1 * num;\n\n  \n\tgallonsValue.style.left = (num + '%');\n\tgallonsValue.style.transform = 'translate(' + position + '%, 2px)';\n\tgallonsValue.innerText = num;\n});\n\nlet fillUpsPerWeek = 1;\n\n// Event listeners for button selection\nfunction saveInputs() {\n\t// Сохраняем текущие значения в LocalStorage\n\tlocalStorage.setItem(\n\t\t\"fleetSize\",\n\t\tdocument.getElementById(\"fleet-size\").value,\n\t);\n\tlocalStorage.setItem(\n\t\t\"gallonsPerFillUp\",\n\t\tdocument.getElementById(\"gallons-fillup\").value,\n\t);\n\tlocalStorage.setItem(\"fillUpsPerWeek\", fillUpsPerWeek);\n}\n\nfunction loadInputs() {\n\t// Восстанавливаем значения из LocalStorage\n\tconst savedFleetSize = localStorage.getItem(\"fleetSize\");\n\tconst savedGallonsPerFillUp = localStorage.getItem(\"gallonsPerFillUp\");\n\tconst savedFillUpsPerWeek = localStorage.getItem(\"fillUpsPerWeek\");\n\n\tif (savedFleetSize !== null) {\n\t\tdocument.getElementById(\"fleet-size\").value = savedFleetSize;\n\t}\n\tif (savedGallonsPerFillUp !== null) {\n\t\tdocument.getElementById(\"gallons-fillup\").value = savedGallonsPerFillUp;\n\t}\n\tif (savedFillUpsPerWeek !== null) {\n\t\tfillUpsPerWeek = parseInt(savedFillUpsPerWeek);\n\t\tdocument\n\t\t\t.querySelectorAll(\".fill-up-btn\")\n\t\t\t.forEach((btn) => btn.classList.remove(\"active\"));\n\t\tdocument\n\t\t\t.querySelector(`.fill-up-btn[data-value=\"${savedFillUpsPerWeek}\"]`)\n\t\t\t?.classList.add(\"active\");\n\t}\n}\n\nfunction calculateSavings() {\n\tconst fleetSize = parseInt(document.getElementById(\"fleet-size\").value) || 0;\n\tconst gallonsPerFillUp =\n\t\tparseInt(document.getElementById(\"gallons-fillup\").value) || 0;\n\tconst savingsPerGallon = 0.6;\n\n\tconst annualSavings =\n\t\tfleetSize * fillUpsPerWeek * savingsPerGallon * gallonsPerFillUp * 52; // 52 weeks\n\tdocument.getElementById(\n\t\t\"savings-result\",\n\t).innerText = `$${annualSavings.toLocaleString()}`;\n\n\tconst annualSavingsMobi =\n\t\tfleetSize * fillUpsPerWeek * savingsPerGallon * gallonsPerFillUp * 52; // 52 weeks\n\tdocument.getElementById(\n\t\t\"savings-result-mobi\",\n\t).innerText = `$${annualSavingsMobi.toLocaleString()}`;\n\n\t// Сохраняем текущие данные\n\tsaveInputs();\n}\n\n// Recalculate when input changes\ndocument\n\t.getElementById(\"fleet-size\")\n\t.addEventListener(\"input\", calculateSavings);\ndocument\n\t.getElementById(\"gallons-fillup\")\n\t.addEventListener(\"input\", calculateSavings);\n\n// Event listeners for button selection\ndocument.querySelectorAll(\".fill-up-btn\").forEach((button) => {\n\tbutton.addEventListener(\"click\", () => {\n\t\tdocument\n\t\t\t.querySelectorAll(\".fill-up-btn\")\n\t\t\t.forEach((btn) => btn.classList.remove(\"active\"));\n\t\tbutton.classList.add(\"active\");\n\t\tfillUpsPerWeek = parseInt(button.dataset.value);\n\t\tcalculateSavings();\n\t});\n});\n\n// Load saved inputs on page load\nloadInputs();\ncalculateSavings();\n\n// const rangeInput = document.getElementById('test');\n// const rangeText = document.getAnimations('range-text');\n\n// rangeInput.addEventListener('change', (e) => {\n// \tconsole.log(e.target.value);\n//   let newVal = e.target.value;\n//   let negNewVal = -1 * newVal;\n\n//   rangeText.style.left = (newVal + '%'); //Set range left position\n//   rangeText.style.transform = 'translate(' + negNewVal + '%, 2px)'; //Set range translate to correct\n//   rangeText.textContent = newVal; //Set range text equal to input position\n// })\n\n/* eslint-enable no-console */\n"],"names":["slider","document","getElementById","rangeValue","addEventListener","e","num","target","value","position","style","left","transform","innerText","gallonsFillUp","gallonsValue","fillUpsPerWeek","saveInputs","localStorage","setItem","loadInputs","savedFleetSize","getItem","savedGallonsPerFillUp","savedFillUpsPerWeek","parseInt","querySelectorAll","forEach","btn","classList","remove","querySelector","add","calculateSavings","fleetSize","gallonsPerFillUp","savingsPerGallon","annualSavings","toLocaleString","annualSavingsMobi","button","dataset"],"sourceRoot":""}